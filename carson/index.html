<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1671.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Courier; color: #000000; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Courier; color: #000000; -webkit-text-stroke: #000000; min-height: 12.0px}
    span.s1 {font-kerning: none}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;div id="title"&gt;Burrit0z Cydia repo&lt;/div&gt;</span></p>
<p class="p1"><span class="s1">&lt;div id="content"&gt;</span></p>
<p class="p1"><span class="s1">This is my Cydia repo.&lt;br&gt;</span></p>
<p class="p1"><span class="s1">Feel free to add it to your list! Maybe some awesome stuff waits for you here ;)&lt;br&gt;&lt;br&gt;</span></p>
<p class="p1"><span class="s1">&lt;a href="cydia://url/https://cydia.saurik.com/api/share#?source=http://h6nry.github.io/repo/"&gt;&lt;b&gt;Open Cydia for me!&lt;/b&gt;&lt;/a&gt;&lt;span id="ocy"&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;</span></p>
<p class="p1"><span class="s1">&lt;hr&gt;</span></p>
<p class="p1"><span class="s1">&lt;h4&gt;These are the packages on this repo&lt;/h4&gt;</span></p>
<p class="p1"><span class="s1">&lt;div id="samples" style="width:100%"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1">&lt;script type="text/javascript"&gt;</span></p>
<p class="p1"><span class="s1">//Some fast iOS check.</span></p>
<p class="p1"><span class="s1">is_ios = (navigator.userAgent.match(/iPad/i) != null) || (navigator.userAgent.match(/iPhone/i) != null) || (navigator.userAgent.match(/iPod/i) != null);</span></p>
<p class="p1"><span class="s1">if (!is_ios) document.getElementById('ocy').innerHTML = ' Most probably, you will not be able to open Cydia.';</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">//The functionality for the package list.</span></p>
<p class="p1"><span class="s1">function Apt_package() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>this.Package;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>this.Version;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>this.Section;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>this.Installed_Size;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>this.Description;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>this.Name;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>this.Author;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>this.Filename;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>this.Depiction;</span></p>
<p class="p1"><span class="s1">} //Constructor for Apt_package object.</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function parsePackage(string) { //TODO: Make sure no key is undefined</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var a_package = new Apt_package();</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var lines = string.split('\n');</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var c;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>for (c = 0; c &lt; lines.length; ++c) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var line = lines[c];</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (line.search(':') == -1) continue;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var components = line.split(':'); //Quick and dirty.</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var key = components.shift();</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var value = components.join(':').trim();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>switch (key) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 'Package':</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a_package.Package = value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 'Version':</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a_package.Version = value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 'Section':</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a_package.Section = value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 'Installed-Size':</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a_package.Installed_Size = value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 'Description':</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a_package.Description = value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 'Name':</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a_package.Name = value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 'Author':</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a_package.Author = value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 'Filename':</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a_package.Filename = value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 'Depiction':</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a_package.Depiction = value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>default:</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break; //Unknown key.</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>if (a_package.Package == undefined) return undefined;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>return a_package;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function parsePackages(parse) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var depictions = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>while (parse.indexOf('\r') &gt;= 0) parse = parse.replace('\r', ''); //Remove all carriage returns, which should not be there, anyways.</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var packages = parse.split('\n\n');</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>for (var c = 0; c &lt; packages.length; ++c) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var a_package = parsePackage(packages[c]);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (a_package == undefined) continue;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var pid = a_package.Package;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (depictions[pid] &amp;&amp; (parseFloat(a_package.Version) &gt;= parseFloat(depictions[pid].Version))) { //Only keep the latest version.</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>depictions[pid] = a_package;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>} else if (depictions[pid] == undefined) { //Package not added yet, add.</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>depictions[pid] = a_package;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>return depictions;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">var xhr;</span></p>
<p class="p1"><span class="s1">if (window.XMLHttpRequest) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>xhr = new XMLHttpRequest();</span></p>
<p class="p1"><span class="s1">} else if (window.ActiveXObject) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>xhr = new ActiveXObject('Microsoft.XMLHTTP');</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">xhr.onreadystatechange = function() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>if (!(xhr.readyState == 4)) return;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var depictionArray = parsePackages(xhr.responseText);</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>if (!depictionArray) return;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>for (key in depictionArray) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var pack = depictionArray[key];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>//The following code is very messy. You have been warned.</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>document.getElementById('samples').innerHTML = document.getElementById('samples').innerHTML +</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>'&lt;a href="javascript:var e = document.getElementById(\'u_' + pack.Package + '\'); e.style.display = e.style.display= (e.style.display == \'block\' ? \'none\' : \'block\');"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pack.Name + ' (' + pack.Version + ')&lt;/a&gt;&lt;br&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>'&lt;div id="u_' + pack.Package + '" style="display:none;"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>'&amp;nbsp;&amp;nbsp;' + pack.Description + '&lt;br&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(is_ios ? '&amp;nbsp;&amp;nbsp;&lt;a href="' +<span class="Apple-converted-space">  </span>'cydia://url/https://cydia.saurik.com/api/share#?source=http://h6nry.github.io/repo/&amp;package=' + pack.Package + '" target="_blank"&gt;Show in Cydia.&lt;/a&gt;&lt;br&gt;' : '') +</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>'&amp;nbsp;&amp;nbsp;&lt;a href="' + pack.Depiction + '" target="_blank"&gt;Show more info.&lt;/a&gt;&lt;br&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>'&amp;nbsp;&amp;nbsp;&lt;a href="' + pack.Filename + '" target="_blank"&gt;Download the .deb package.&lt;/a&gt;&lt;br&gt;&lt;br&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>'&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>}</span></p>
<p class="p1"><span class="s1">};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">xhr.open("GET","Packages");</span></p>
<p class="p1"><span class="s1">xhr.send();</span></p>
<p class="p1"><span class="s1">&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;!-- include this where you want the standard design template from here... --&gt;</span></p>
<p class="p1"><span class="s1">&lt;script type="text/javascript" src="../template.js"&gt;&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;noscript&gt;</span></p>
<p class="p1"><span class="s1">As this website uses JavaScript to generate a semi-dynamically created page, you need to activate JavaScript!</span></p>
<p class="p1"><span class="s1">&lt;/noscript&gt;</span></p>
<p class="p1"><span class="s1">&lt;!-- ...until here! --&gt;</span></p>
</body>
</html>
